<!-- LEGENDARY GIFT CODE SYSTEM - VIRAL GROWTH ENGINE -->
<div class="legendary-gift-codes">
  <!-- Header That Shows Viral Growth -->
  <header class="giftcodes-header">
    <div class="header-content">
      <div class="title-section">
        <h1 class="page-title">
          <span class="title-icon">ğŸ</span>
          Gift Code Management
          <span class="growth-badge">+284% GROWTH</span>
        </h1>
        <p class="page-subtitle">Create Viral Gift Codes That Acquire Users For Free</p>
      </div>

      <!-- Growth Stats -->
      <div class="header-stats">
        <div class="stat-badge total-codes">
          <div class="stat-icon">ğŸ</div>
          <div class="stat-content">
            <span class="stat-number">{{ getTotalCodes() }}</span>
            <span class="stat-label">Total Codes</span>
            <span class="stat-trend">+45 this week</span>
          </div>
        </div>

        <div class="stat-badge redeemed-codes">
          <div class="stat-icon">âœ…</div>
          <div class="stat-content">
            <span class="stat-number">{{ getRedeemedCodes() }}</span>
            <span class="stat-label">Redeemed</span>
            <span class="stat-trend">{{ getConversionRate() }}% rate</span>
          </div>
        </div>

        <div class="stat-badge revenue-generated">
          <div class="stat-icon">ğŸ’°</div>
          <div class="stat-content">
            <span class="stat-number">${{ getGeneratedRevenue() | number }}</span>
            <span class="stat-label">Revenue</span>
            <span class="stat-trend">From gifts</span>
          </div>
        </div>

        <div class="stat-badge conversion-rate">
          <div class="stat-icon">ğŸ“ˆ</div>
          <div class="stat-content">
            <span class="stat-number">{{ getConversionRate() }}%</span>
            <span class="stat-label">Conversion</span>
            <span class="stat-trend">To paid</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Gift Code Creation - Viral Machine -->
  <section class="creation-section">
    <div class="section-header">
      <h2>ğŸš€ Create Viral Gift Codes</h2>
      <p>Generate codes that spread like wildfire and convert like crazy</p>
    </div>

    <div class="creation-form">
      <div class="form-grid">
        <div class="form-group">
          <label>ğŸ Gift Type</label>
          <select [(ngModel)]="newGift.type" class="form-select">
            <option value="premium-trial">Premium Trial (7 days)</option>
            <option value="premium-month">Premium Month</option>
            <option value="enterprise-trial">Enterprise Trial</option>
            <option value="sound-pack">Sound Pack</option>
            <option value="discount">Discount Code</option>
          </select>
        </div>

        <div class="form-group">
          <label>ğŸ”¢ Quantity</label>
          <input type="number" [(ngModel)]="newGift.quantity" min="1" max="1000" 
                 class="form-input" placeholder="How many codes?">
        </div>

        <div class="form-group">
          <label>â° Expiration</label>
          <select [(ngModel)]="newGift.expiration" class="form-select">
            <option value="7">7 days</option>
            <option value="30">30 days</option>
            <option value="90">90 days</option>
            <option value="365">1 year</option>
            <option value="never">Never expires</option>
          </select>
        </div>

        <div class="form-group">
          <label>ğŸ·ï¸ Custom Prefix</label>
          <input type="text" [(ngModel)]="newGift.prefix" 
                 class="form-input" placeholder="SLEEP2024" maxlength="10">
        </div>
      </div>

      <div class="form-actions">
        <button class="generate-btn" (click)="generateGiftCodes()">
          ğŸ Generate Gift Codes
        </button>
        <button class="preview-btn" (click)="previewGiftCodes()">
          ğŸ‘€ Preview
        </button>
        <button class="campaign-btn" (click)="bulkGenerateForCampaign()">
          ğŸ¯ Bulk Campaign
        </button>
      </div>
    </div>
  </section>

  <!-- Active Gift Codes -->
  <section class="codes-section">
    <div class="section-header">
      <h2>ğŸ“‹ Active Gift Codes</h2>
      <div class="section-filters">
        <input type="text" [(ngModel)]="codeSearch" 
               placeholder="Search codes..." class="search-input">
        <select [(ngModel)]="statusFilter" class="filter-select">
          <option value="all">All Status</option>
          <option value="active">Active</option>
          <option value="redeemed">Redeemed</option>
          <option value="expired">Expired</option>
        </select>
        <button class="export-btn" (click)="exportGiftCodeReport()">
          ğŸ“Š Export Report
        </button>
        <button class="metrics-btn" (click)="showViralGrowthMetrics()">
          ğŸ“ˆ Growth Metrics
        </button>
      </div>
    </div>

    <div class="codes-grid">
      <div *ngFor="let code of getFilteredCodes()" class="code-card" 
           [class.redeemed]="code.status === 'redeemed'" 
           [class.expired]="code.status === 'expired'">
        
        <div class="code-header">
          <div class="code-value">{{ code.code }}</div>
          <div class="code-status" [class]="code.status">
            {{ getStatusDisplayName(code.status) }}
          </div>
        </div>

        <div class="code-details">
          <div class="detail-item">
            <span class="detail-label">Type:</span>
            <span class="detail-value">{{ getTypeDisplayName(code.type) }}</span>
          </div>

          <div class="detail-item">
            <span class="detail-label">Value:</span>
            <span class="detail-value">${{ code.value }}</span>
          </div>

          <div class="detail-item">
            <span class="detail-label">Created:</span>
            <span class="detail-value">{{ code.createdDate }}</span>
          </div>

          <div class="detail-item">
            <span class="detail-label">Expires:</span>
            <span class="detail-value">{{ code.expiresDate }}</span>
          </div>

          <div class="detail-item">
            <span class="detail-label">Uses:</span>
            <span class="detail-value">{{ code.currentUses }}/{{ code.maxUses }}</span>
          </div>

          <div class="detail-item" *ngIf="code.redeemedBy">
            <span class="detail-label">Redeemed by:</span>
            <span class="detail-value">{{ code.redeemedBy }}</span>
          </div>
        </div>

        <div class="code-actions">
          <button class="action-btn copy-btn" (click)="copyCode(code)">
            ğŸ“‹ Copy
          </button>
          <button class="action-btn share-btn" (click)="shareCode(code)">
            ğŸ”— Share
          </button>
          <button class="action-btn analytics-btn" (click)="showCodeAnalytics(code)">
            ğŸ“ˆ Analytics
          </button>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="getFilteredCodes().length === 0 && !isLoading" class="empty-state">
      <div class="empty-icon">ğŸ</div>
      <h3>No Gift Codes Found</h3>
      <p>Create your first viral gift code to start acquiring users!</p>
      <button class="create-first-btn" (click)="generateGiftCodes()">
        ğŸš€ Create First Code
      </button>
    </div>
  </section>
</div>