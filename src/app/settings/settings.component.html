<!-- LEGENDARY SETTINGS - ENTERPRISE CONFIGURATION -->
<div class="legendary-settings">
  <!-- Header -->
  <header class="settings-header">
    <div class="header-content">
      <div class="title-section">
        <h1 class="page-title">
          <span class="title-icon">âš™ï¸</span>
          Enterprise Settings
          <span class="power-badge">PRO</span>
        </h1>
        <p class="page-subtitle">Professional configuration that impresses clients</p>
      </div>

      <!-- Quick Actions -->
      <div class="header-actions">
        <button class="action-btn save-btn" (click)="saveSettings()">
          ğŸ’¾ Save All
        </button>
        <button class="action-btn export-btn" (click)="exportSettings()">
          ğŸ“¤ Export
        </button>
        <button class="action-btn god-mode-btn" (click)="enableGodMode()">
          ğŸ‘‘ God Mode
        </button>
      </div>
    </div>
  </header>

  <!-- Settings Navigation -->
  <nav class="settings-nav">
    <div class="nav-container">
      <button *ngFor="let section of settingSections" 
              class="nav-item"
              [class.active]="activeSection === section.id"
              (click)="activeSection = section.id">
        <span class="nav-icon">{{ section.icon }}</span>
        <span class="nav-title">{{ section.title }}</span>
        <span class="nav-description">{{ section.description }}</span>
      </button>
    </div>
  </nav>

  <!-- Settings Content -->
  <div class="settings-content" *ngIf="!isLoading; else loadingTemplate">
    
    <!-- General Settings -->
    <section class="settings-section" *ngIf="activeSection === 'general'">
      <div class="section-header">
        <h2>âš™ï¸ General Settings</h2>
        <p>Basic application configuration and preferences</p>
      </div>

      <div class="settings-grid">
        <div class="setting-group">
          <h3>Application</h3>
          <div class="setting-item">
            <label>App Name</label>
            <input type="text" [(ngModel)]="generalSettings.appName" class="setting-input">
          </div>
          <div class="setting-item">
            <label>Company Name</label>
            <input type="text" [(ngModel)]="generalSettings.companyName" class="setting-input">
          </div>
          <div class="setting-item">
            <label>Support Email</label>
            <input type="email" [(ngModel)]="generalSettings.supportEmail" class="setting-input">
          </div>
        </div>

        <div class="setting-group">
          <h3>Features</h3>
          <div class="setting-item toggle-item">
            <div class="toggle-content">
              <span class="toggle-label">Maintenance Mode</span>
              <span class="toggle-description">Put the application in maintenance mode</span>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" [(ngModel)]="generalSettings.maintenanceMode">
              <span class="slider"></span>
            </label>
          </div>
          <div class="setting-item toggle-item">
            <div class="toggle-content">
              <span class="toggle-label">Enable Analytics</span>
              <span class="toggle-description">Collect usage analytics and metrics</span>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" [(ngModel)]="generalSettings.enableAnalytics">
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>
    </section>

    <!-- Security Settings -->
    <section class="settings-section" *ngIf="activeSection === 'security'">
      <div class="section-header">
        <h2>ğŸ”’ Security & Privacy</h2>
        <p>Security protocols and privacy controls</p>
        <button class="security-scan-btn" (click)="runSecurityScan()">
          ğŸ” Run Security Scan
        </button>
      </div>

      <div class="security-grid">
        <div *ngFor="let setting of securitySettings" class="security-card">
          <div class="security-header">
            <h3>{{ setting.name }}</h3>
            <span class="critical-badge" *ngIf="setting.critical">CRITICAL</span>
          </div>
          <p class="security-description">{{ setting.description }}</p>
          <div class="security-footer">
            <span class="last-updated">Updated: {{ setting.lastUpdated }}</span>
            <label class="toggle-switch">
              <input type="checkbox" [checked]="setting.enabled" (change)="toggleSecuritySetting(setting)">
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>
    </section>

    <!-- Integrations Settings -->
    <section class="settings-section" *ngIf="activeSection === 'integrations'">
      <div class="section-header">
        <h2>ğŸ”— Integrations</h2>
        <p>Third-party services and API connections</p>
      </div>

      <div class="integrations-grid">
        <div *ngFor="let integration of integrations" class="integration-card">
          <div class="integration-header">
            <div class="integration-info">
              <span class="integration-icon">{{ integration.icon }}</span>
              <div>
                <h3>{{ integration.name }}</h3>
                <p>{{ integration.description }}</p>
              </div>
            </div>
            <span class="integration-status" [style.background]="getIntegrationStatusColor(integration.status)">
              {{ integration.status }}
            </span>
          </div>
          <div class="integration-footer">
            <span class="last-sync">Last Sync: {{ integration.lastSync }}</span>
            <div class="integration-actions">
              <button class="action-btn test-btn" (click)="testIntegration(integration)">
                ğŸ§ª Test
              </button>
              <label class="toggle-switch">
                <input type="checkbox" [checked]="integration.connected" (change)="toggleIntegration(integration)">
                <span class="slider"></span>
              </label>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Backup Settings -->
    <section class="settings-section" *ngIf="activeSection === 'backup'">
      <div class="section-header">
        <h2>ğŸ’¾ Backup & Recovery</h2>
        <p>Data backup and disaster recovery</p>
        <button class="backup-btn" (click)="createBackup()">
          ğŸ’¾ Create Backup
        </button>
      </div>

      <div class="backup-content">
        <div class="backup-stats">
          <div class="stat-card">
            <span class="stat-value">{{ backups.length }}</span>
            <span class="stat-label">Total Backups</span>
          </div>
          <div class="stat-card">
            <span class="stat-value">{{ getCompletedBackupsCount() }}</span>
            <span class="stat-label">Successful</span>
          </div>
          <div class="stat-card">
            <span class="stat-value">99.9%</span>
            <span class="stat-label">Success Rate</span>
          </div>
        </div>

        <div class="backup-list">
          <h3>Recent Backups</h3>
          <div *ngFor="let backup of backups" class="backup-item">
            <div class="backup-info">
              <span class="backup-name">{{ backup.name }}</span>
              <span class="backup-date">{{ backup.date }}</span>
              <span class="backup-size">{{ backup.size }}</span>
            </div>
            <div class="backup-actions">
              <span class="backup-status" [style.background]="getBackupStatusColor(backup.status)">
                {{ backup.status }}
              </span>
              <button class="action-btn restore-btn" (click)="restoreBackup(backup)">
                ğŸ”„ Restore
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Loading Template -->
  <ng-template #loadingTemplate>
    <div class="loading-state">
      <div class="loading-animation">
        <div class="settings-loader"></div>
        <div class="loading-text">
          <span class="loading-icon">âš™ï¸</span>
          Loading settings...
        </div>
      </div>
    </div>
  </ng-template>

  <!-- Footer Actions -->
  <footer class="settings-footer">
    <div class="footer-actions">
      <button class="action-btn reset-btn" (click)="resetToDefaults()">
        ğŸ”„ Reset Defaults
      </button>
      <button class="action-btn health-btn" (click)="showSystemHealth()">
        ğŸ¥ System Health
      </button>
    </div>
  </footer>
</div>